<!-- Tab links -->
<html>
<head>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="tab">
  <button class="tablinks" onclick="forCar(event, 'Car')">Cars</button>
  <button class="tablinks" onclick="forHotel(event, 'Hotel')">Hotels</button>
  <button class="tablinks" onclick="forAir(event, 'Air')">Flights</button>
    <button class="tablinks" onclick="forActivity(event, 'Activity')">Activity</button>
</div>
<div id = 'tab-list'>
</div>
<p id = "demo"></p>
<!-- Tab content -->


<script>
function forCar(evt, product) {
  ParseJsonAndCreateDivs(product)
}

function forActivity(evt, product) {
  ParseJsonAndCreateDivs(product)
}
    
function forHotel(evt, product) {
   ParseJsonAndCreateDivs(product)
}
    
 function forAir(evt, product) {
   ParseJsonAndCreateDivs(product)
}   

function ParseJsonAndCreateDivs(product)
{
     document.getElementById('tab-list').innerHTML = "";
    var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myArr = JSON.parse(this.responseText);
       for(var i=0;i<myArr.length;i++)
        {
          
            var iDiv = document.createElement('div');
            iDiv.id = i;
            iDiv.className = 'List';
            document.getElementById('tab-list').appendChild(iDiv);
             var para = document.createElement("p");
            var node = document.createTextNode("Id: "+myArr[i].Id);
            para.appendChild(node);
            iDiv.appendChild(para);
            var para = document.createElement("p");
            var node = document.createTextNode("Name: "+myArr[i].Name);
            para.appendChild(node);
            iDiv.appendChild(para);
            var para = document.createElement("p");
            var node = document.createTextNode("Price: "+myArr[i].Price);
            para.appendChild(node);
            iDiv.appendChild(para);
             var para = document.createElement("p");
            var node = document.createTextNode("IsSaved: "+myArr[i].IsSaved);
            para.appendChild(node);
            iDiv.appendChild(para);
            var para = document.createElement("p");
            var node = document.createTextNode("IsBooked: "+myArr[i].IsBooked);
            para.appendChild(node);
            iDiv.appendChild(para);
             var x = document.createElement("HR");
             iDiv.appendChild(x);

        }
    }
};
xmlhttp.open("GET", "http://localhost:50980/api/"+product, true);
xmlhttp.send();

}

</script>
</body> 
</html>



